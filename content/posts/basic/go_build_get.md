---
title: "go build和go get"
date: 2020-12-06T16:42:20+08:00
toc: true
isCJKLanguage: true
tags: 
  - Go
---

## `go build`

`go build`运行的时候默认不会编译目标代码包所依赖的那些代码包。当被依赖的代码包的归档文件不存在或者源码文件有变化才会被编译。

使用命令`go build -a`可以强制编译依赖包，即使依赖的是标准库中的代码包。

使用命令`go build -i`不但能强制编译依赖包，还会安装他们的归档文件。

使用命令`go build -x`可以看到具体执行了哪些操作，也可以使用`go build -n`只查看而不操作。

使用命令`go build -v`可以看到编译的代码包的名称。

## `go get`

`go get`会自动从一些主流共用代码仓库下载代码包，并且安装到`GOPATH`指向的第一个工作区中的对应目录。如果设置了`GOBIN`,那面仅包含命令源码文件的代码包会被安装到`GOBIN`指向的目录。

常用参数：

- `-u`下载并安装代码包，不论工作区中是否已存在。
- `-d`只下载不安装代码包。
- `-fix`下载代码包后先运行一个当前`Go`版本的修正代码工具，然后安装。
- `-t`同时下载测试所需代码包。
- `-insecure`允许通过非安全的网络协议下载和安装代码包，比如`HTTP`协议。